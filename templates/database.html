{% extends 'base.html' %}

{% block title %} مدیریت پایگاه داده {% endblock %}

{% block content %}

<div class="container-xxl flex-grow-1 container-p-y">

  <!-- Table -->
  <div class="row">

    <!-- Divider -->
    <div class="col-12 mb-2">
      <div class="divider">
        <div class="divider-text fs-4">ویرایش پایگاه داده</div>
      </div>
    </div>
    <!-- / Divider -->

    <!-- Table -->
    <div class="col-12 mb-4">
      <div class="card p-3">

        <!-- Search Box -->
        <div class="search-container pb-4">
          <div class="col-12">
            <div class="input-group input-group-merge">
              <span class="input-group-text" id="basic-addon-search31"><i class="bx bx-search"></i></span>
              <input type="text" id="search" class="form-control" placeholder="جستجو ...">
            </div>
          </div>
        </div>
        <!-- Search Box -->

        <!-- Pagination Controls -->
        <div class="col-12 mb-2">
          <div class="divider divider-dashed">
            <div class="divider-text fs-5">
              <button id="prev-page" class="btn btn-secondary btn-sm">قبلی</button>
              <span id="page-info"></span>
              <button id="next-page" class="btn btn-secondary btn-sm">بعدی</button>
            </div>
          </div>
        </div>
        <!-- / Pagination Controls -->

        <!-- Div Table -->
        <div class="table-responsive text-nowrap">
          <table class="table table-hover">
            <thead>
              <tr>
                <th></th>
                <th onclick="sortTable('ID')">ردیف</th>
                <th onclick="sortTable('FirstName')">نام</th>
                <th onclick="sortTable('LastName')">نام خانوادگی</th>
                <th onclick="sortTable('NID')">کدملی</th>
                <th onclick="sortTable('City')">شهر</th>
                <th onclick="sortTable('Region')">منطقه</th>
                <th onclick="sortTable('District')">ناحیه</th>
                <th onclick="sortTable('Lat')">عرض جغرافیایی</th>
                <th onclick="sortTable('Lon')">طول جغرافیایی</th>
                <th onclick="sortTable('HouseholdRisk')">ریسک خانوار</th>
                <th onclick="sortTable('BakersRisk')">ریسک نانوا</th>
                <th onclick="sortTable('TypeFlour')">نوع آرد</th>
                <th onclick="sortTable('TypeBread')">نوع پخت</th>
                <th onclick="sortTable('BreadRations')">سهمیه</th>
              </tr>
            </thead>
            <tbody class="table-border-bottom-0" id="bakeries-table-body">
            </tbody>
          </table>
        </div>
        <!-- / Div Table -->

        <!-- Delete Modal -->
        <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="modalCenterTitle">حذف رکورد</h5>
              </div>
              <div class="modal-body">
                <p>آیا از حذف این رکورد مطمئن هستید؟</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-label-secondary" data-bs-dismiss="modal">
                  خیر
                </button>
                <button type="button" class="btn btn-danger" id="confirmDelete">بله</button>
              </div>
            </div>
          </div>
        </div>
        <!-- / Delete Modal -->


        <!-- Edit Modal -->
        <div class="modal-onboarding modal fade animate__animated" id="editModal" tabindex="-1"
          aria-labelledby="editModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content text-center">
              <div class="modal-header">
                <div class="col-12">
                  <div class="divider">
                    <div class="divider-text fs-4">ویرایش</div>
                  </div>
                </div>
              </div>
              <div class="modal-body py-0">
                <form id="editForm">
                  <div class="row g-3 p-3" style="text-align: right !important">
                    <input type="hidden" id="editID">
                    <div class="col-sm-4">
                      <label class="form-label" for="editFirstName">نام</label>
                      <input type="text" id="editFirstName" class="form-control" placeholder="نام" />
                    </div>
                    <div class="col-sm-4">
                      <label class="form-label" for="editLastName">نام خانوادگی</label>
                      <input type="text" id="editLastName" class="form-control" placeholder="نام خانوادگی" />
                    </div>
                    <div class="col-sm-4">
                      <label class="form-label" for="editNID">کدملی</label>
                      <input type="text" id="editNID" class="form-control" placeholder="کدملی" />
                    </div>
                  </div>
                  <div class="row g-3 p-3" style="text-align: right !important">
                    <div class="col-sm-4">
                      <label class="form-label" for="editCity">شهر</label>
                      <select class="select2" id="editCity" data-placeholder="شهر را انتخاب کنید">
                        <option label=" "></option>
                        <option>مشهد</option>
                      </select>
                    </div>
                    <div class="col-sm-4">
                      <label class="form-label" for="editRegion">منطقه</label>
                      <select class="select2" id="editRegion" data-placeholder="منطقه را انتخاب کنید">
                        <option label=" "></option>
                        <option>منطقه 1</option>
                        <option>منطقه 2</option>
                        <option>منطقه 3</option>
                        <option>منطقه 4</option>
                        <option>منطقه 5</option>
                        <option>منطقه 6</option>
                        <option>منطقه 7</option>
                        <option>منطقه 8</option>
                        <option>منطقه 9</option>
                        <option>منطقه 10</option>
                        <option>منطقه 11</option>
                        <option>منطقه 12</option>
                        <option>منطقه 13</option>
                      </select>
                    </div>
                    <div class="col-sm-4">
                      <label class="form-label" for="editDistrict">ناحیه</label>
                      <select class="select2" id="editDistrict" data-placeholder="ناحیه را انتخاب کنید">
                        <option label=" "></option>
                        <option>ناحیه 1</option>
                        <option>ناحیه 2</option>
                        <option>ناحیه 3</option>
                        <option>ناحیه 4</option>
                        <option>ناحیه 5</option>
                      </select>
                    </div>
                    <div class="col-sm-6">
                      <label class="form-label" for="editLat">عرض جغرافیایی</label>
                      <input type="number" step="0.01" id="editLat" class="form-control" placeholder="32.65" />
                    </div>
                    <div class="col-sm-6">
                      <label class="form-label" for="editLon">طول جغرافیایی</label>
                      <input type="number" step="0.01" id="editLon" class="form-control" placeholder="60.12" />
                    </div>
                  </div>
                  <div class="row g-3 p-3" style="text-align: right !important">
                    <div class="col-sm-4">
                      <label class="form-label" for="editTypeFlour">نوع آرد</label>
                      <select class="select2" id="editTypeFlour" data-placeholder="نوع آرد را انتخاب کنید">
                        <option label=" "></option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                        <option>6</option>
                      </select>
                    </div>
                    <div class="col-sm-4">
                      <label class="form-label" for="editTypeBread">نوع پخت</label>
                      <select class="select2" id="editTypeBread" data-placeholder="نوع پخت را انتخاب کنید">
                        <option label=" "></option>
                        <option>بربری</option>
                        <option>سنگک</option>
                        <option>تافتون</option>
                        <option>لواش</option>
                      </select>
                    </div>
                    <div class="col-sm-4">
                      <label class="form-label" for="editBreadRations">تعداد سهمیه</label>
                      <select class="select2" id="editBreadRations" data-placeholder="تعداد سهمیه را انتخاب کنید">
                        <option label=" "></option>
                        <option>50</option>
                        <option>100</option>
                        <option>150</option>
                        <option>200</option>
                        <option>250</option>
                        <option>300</option>
                        <option>350</option>
                        <option>400</option>
                        <option>450</option>
                        <option>500</option>
                      </select>
                    </div>
                    <div class="col-sm-6">
                      <label class="form-label" for="editHouseholdRisk">ریسک خانوار</label>
                      <select class="select2" id="editHouseholdRisk" data-placeholder="ریسک خانوار را انتخاب کنید">
                        <option label=" "></option>
                        <option>کم ریسک</option>
                        <option>ریسک متوسط</option>
                        <option>پرریسک</option>
                        <option>خیلی پرریسک</option>
                      </select>
                    </div>
                    <div class="col-sm-6">
                      <label class="form-label" for="editBakersRisk">ریسک نانوا</label>
                      <select class="select2" id="editBakersRisk" data-placeholder="ریسک نانوا را انتخاب کنید">
                        <option label=" "></option>
                        <option>کم ریسک</option>
                        <option>ریسک متوسط</option>
                        <option>پرریسک</option>
                        <option>خیلی پرریسک</option>
                      </select>
                    </div>
                  </div>

                  <div class="modal-footer border-0 pt-3 d-flex justify-content-center">
                    <button type="button" class="btn btn-lg btn-label-secondary" data-bs-dismiss="modal">
                      بستن
                    </button>
                    <button type="submit" class="btn btn-lg btn-primary">اعمال تغییرات</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <!-- / Edit Modal -->

      </div>
    </div>
    <!-- / Table -->

  </div>
  <!-- / Table -->

  <!-- Add New Record -->
  <div class="row">
    <div class="col-12 mb-2">
      <div class="divider">
        <div class="divider-text fs-4">افزودن رکورد جدید</div>
      </div>
    </div>

    <div class="col-12 mb-4">
      <div class="bs-stepper wizard-numbered mt-2">
        <div class="bs-stepper-header">
          <div class="step" data-target="#account-details">
            <button type="button" class="step-trigger">
              <span class="bs-stepper-circle">1</span>
              <span class="bs-stepper-label">
                <span class="bs-stepper-title">مشخصات فردی</span>
                <span class="bs-stepper-subtitle">مشخصات صاحب نانوایی</span>
              </span>
            </button>
          </div>
          <div class="line"></div>
          <div class="step" data-target="#personal-info">
            <button type="button" class="step-trigger">
              <span class="bs-stepper-circle">2</span>
              <span class="bs-stepper-label">
                <span class="bs-stepper-title">موقعیت جغرافیایی</span>
                <span class="bs-stepper-subtitle">مشخصات موقعیت مکانی</span>
              </span>
            </button>
          </div>
          <div class="line"></div>
          <div class="step" data-target="#social-links">
            <button type="button" class="step-trigger">
              <span class="bs-stepper-circle">3</span>
              <span class="bs-stepper-label">
                <span class="bs-stepper-title">ویژگی‌ها</span>
                <span class="bs-stepper-subtitle">پارامترهای مهم</span>
              </span>
            </button>
          </div>
        </div>
        <div class="bs-stepper-content">
          <form id="addRecordForm" method="POST">
            <div id="account-details" class="content">
              <div class="content-header mb-3">
                <small>لطفا مشخصات شناسایی صاحب نانوایی را اینجا
                  وارد کنید:</small>
              </div>
              <div class="row g-3">
                <div class="col-sm-4">
                  <label class="form-label" for="FirstName">نام</label>
                  <input type="text" id="FirstName" class="form-control" placeholder="نام" />
                </div>
                <div class="col-sm-4">
                  <label class="form-label" for="LastName">نام خانوادگی</label>
                  <input type="text" id="LastName" class="form-control" placeholder="نام خانوادگی" />
                </div>
                <div class="col-sm-4">
                  <label class="form-label" for="NID">کدملی</label>
                  <input type="text" id="NID" class="form-control" placeholder="کدملی" />
                </div>
                <div class="col-12 d-flex justify-content-between">
                  <button class="btn btn-label-secondary btn-prev" disabled>
                    <i class="bx bx-chevron-left bx-sm ms-sm-n2"></i>
                    <span class="d-sm-inline-block d-none">قبلی</span>
                  </button>
                  <button class="btn btn-primary btn-next">
                    <span class="d-sm-inline-block d-none">بعدی</span>
                    <i class="bx bx-chevron-right bx-sm me-sm-n2"></i>
                  </button>
                </div>
              </div>
            </div>
            <div id="personal-info" class="content">
              <div class="content-header mb-3">
                <small>لطفا مشخصات موقعیت مکانی نانوایی را وارد
                  کنید:</small>
              </div>
              <div class="row g-3">
                <div class="col-sm-4">
                  <label class="form-label" for="City">شهر</label>
                  <select class="select2" id="City" data-placeholder="شهر را انتخاب کنید">
                    <option label=" "></option>
                    <option>مشهد</option>
                  </select>
                </div>
                <div class="col-sm-4">
                  <label class="form-label" for="Region">منطقه</label>
                  <select class="select2" id="Region" data-placeholder="منطقه را انتخاب کنید">
                    <option label=" "></option>
                    <option>منطقه 1</option>
                    <option>منطقه 2</option>
                    <option>منطقه 3</option>
                    <option>منطقه 4</option>
                    <option>منطقه 5</option>
                    <option>منطقه 6</option>
                    <option>منطقه 7</option>
                    <option>منطقه 8</option>
                    <option>منطقه 9</option>
                    <option>منطقه 10</option>
                    <option>منطقه 11</option>
                    <option>منطقه 12</option>
                    <option>منطقه 13</option>
                  </select>
                </div>
                <div class="col-sm-4">
                  <label class="form-label" for="District">ناحیه</label>
                  <select class="select2" id="District" data-placeholder="ناحیه را انتخاب کنید">
                    <option label=" "></option>
                    <option>ناحیه 1</option>
                    <option>ناحیه 2</option>
                    <option>ناحیه 3</option>
                    <option>ناحیه 4</option>
                    <option>ناحیه 5</option>
                  </select>
                </div>
                <div class="col-sm-6">
                  <label class="form-label" for="Lat">عرض جغرافیایی</label>
                  <input type="number" step="0.01" id="Lat" class="form-control" placeholder="32.65" />
                </div>
                <div class="col-sm-6">
                  <label class="form-label" for="Lon">طول جغرافیایی</label>
                  <input type="number" step="0.01" id="Lon" class="form-control" placeholder="60.12" />
                </div>

                <div class="col-12 d-flex justify-content-between">
                  <button class="btn btn-primary btn-prev">
                    <i class="bx bx-chevron-left bx-sm ms-sm-n2"></i>
                    <span class="d-sm-inline-block d-none">قبلی</span>
                  </button>
                  <button class="btn btn-primary btn-next">
                    <span class="d-sm-inline-block d-none">بعدی</span>
                    <i class="bx bx-chevron-right bx-sm me-sm-n2"></i>
                  </button>
                </div>
              </div>
            </div>
            <div id="social-links" class="content">
              <div class="content-header mb-3">
                <small>لطفا پارامترهای مورد نیاز را وارد
                  کنید:</small>
              </div>
              <div class="row g-3">
                <div class="col-sm-4">
                  <label class="form-label" for="TypeFlour">نوع آرد</label>
                  <select class="select2" id="TypeFlour" data-placeholder="نوع آرد را انتخاب کنید">
                    <option label=" "></option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                    <option>6</option>
                  </select>
                </div>
                <div class="col-sm-4">
                  <label class="form-label" for="TypeBread">نوع پخت</label>
                  <select class="select2" id="TypeBread" data-placeholder="نوع پخت را انتخاب کنید">
                    <option label=" "></option>
                    <option>بربری</option>
                    <option>سنگک</option>
                    <option>تافتون</option>
                    <option>لواش</option>
                  </select>
                </div>
                <div class="col-sm-4">
                  <label class="form-label" for="BreadRations">تعداد سهمیه</label>
                  <select class="select2" id="BreadRations" data-placeholder="تعداد سهمیه را انتخاب کنید">
                    <option label=" "></option>
                    <option>50</option>
                    <option>100</option>
                    <option>150</option>
                    <option>200</option>
                    <option>250</option>
                    <option>300</option>
                    <option>350</option>
                    <option>400</option>
                    <option>450</option>
                    <option>500</option>
                  </select>
                </div>
                <div class="col-sm-6">
                  <label class="form-label" for="HouseholdRisk">ریسک خانوار</label>
                  <select class="select2" id="HouseholdRisk" data-placeholder="ریسک خانوار را انتخاب کنید">
                    <option label=" "></option>
                    <option>کم ریسک</option>
                    <option>ریسک متوسط</option>
                    <option>پرریسک</option>
                    <option>خیلی پرریسک</option>
                  </select>
                </div>
                <div class="col-sm-6">
                  <label class="form-label" for="BakersRisk">ریسک نانوا</label>
                  <select class="select2" id="BakersRisk" data-placeholder="ریسک نانوا را انتخاب کنید">
                    <option label=" "></option>
                    <option>کم ریسک</option>
                    <option>ریسک متوسط</option>
                    <option>پرریسک</option>
                    <option>خیلی پرریسک</option>
                  </select>
                </div>
                <div class="col-12 d-flex justify-content-between">
                  <button class="btn btn-primary btn-prev">
                    <i class="bx bx-chevron-left bx-sm ms-sm-n2"></i>
                    <span class="d-sm-inline-block d-none">قبلی</span>
                  </button>
                  <button type="submit" class="btn btn-success btn-submit">
                    اضافه کردن
                  </button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- / Add New Record -->

<!-- Upload File -->
  <div class="row">
    <div class="col-12 mb-2">
      <div class="divider">
        <div class="divider-text fs-4">بارگزاری فایل داده‌ها</div>
      </div>
    </div>
    <div class="col-12">
      <div class="card mb-4">
        <div class="card-body">
          <form action="/upload" class="dropzone needsclick" id="dropzone-basic">
            <div class="dz-message needsclick">
              فایل را اینجا رها کنید یا برای آپلود کلیک کنید
              <span class="note needsclick"
                >(تنها فایل با پسوند
                <span class="fw-medium">CSV.</span> مجاز می‌باشد.)</span
              >
            </div>
            <div class="fallback">
              <input name="file" type="file" />
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- / Upload File -->

</div>
{% endblock %}